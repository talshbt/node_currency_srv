var fixerApi=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_URL="http://data.fixer.io/api"});t(r);r.DEFAULT_URL;var o=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=e=>e<10?`0${e}`:e.toString();t.default=function(e){return`${e.getUTCFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}`}});t(o);var i=n(function(t,n){var i=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,c)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});n.Fixer=class{constructor(e={}){this.basicOptions={baseUrl:e.baseUrl||r.DEFAULT_URL,accessKey:e.accessKey}}set({baseUrl:e,accessKey:t}={}){return this.basicOptions.baseUrl=e||this.basicOptions.baseUrl,this.basicOptions.accessKey=t||this.basicOptions.accessKey,this}forDate(e,t={}){return i(this,void 0,void 0,function*(){let n;if("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))n=e;else{if(!(e instanceof Date))throw new Error("Invalid date argument");n=o.default(e)}return this.request(`/${n}`,t)})}latest(e={}){return i(this,void 0,void 0,function*(){return this.request("/latest",e)})}convert(e,t,n,r){return i(this,void 0,void 0,function*(){return this.request("/convert",{from:e,to:t,amount:n,date:r})})}}});t(i);i.Fixer;var s=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.entries(e).map(([e,t])=>`${e}=${encodeURIComponent(`${t instanceof Array?t.join(","):t}`)}`).join("&")}});t(s);var c=n(function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,c)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});n.default=class extends i.Fixer{constructor(e,...t){super(...t),this.fetch=e}request(e,t){return r(this,void 0,void 0,function*(){const n=t.access_key||this.basicOptions.accessKey;if(!n)throw new Error("access_key is required to use fixer");const r=Object.entries(t).reduce((e,[t,n])=>Object.assign({},e,n?{[t]:n}:{}),{access_key:n}),o=`${this.basicOptions.baseUrl}${e}`,i=yield this.fetch(`${o}?${s.default(r)}`);let c;try{c=yield i.json()}catch(e){throw new Error(`Request to ${o} resulted in non-JSON response`)}if(c.error)throw new Error(`${c.error.type}: ${c.error.info}`);return c})}}});return t(c),t(n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=new c.default(window.fetch.bind(window))}))}();
